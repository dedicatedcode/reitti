<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div class="years-navigation" th:fragment="years-navigation">
    <div class="timeline-entry trip" data-year="overall"
         hx-get="/statistics/overall"
         hx-trigger="click">
        <div class="entry-description" th:text="#{statistics.overall}">Overall</div>
    </div>
    <div class="timeline-entry trip" th:each="year : ${years}"
         th:attr="hx-get='/statistics/'+ ${year}"
         hx-trigger="click">
        <div class="entry-description" th:text="${year}">2024</div>
    </div>
    <script>
        document.querySelector('.years-navigation').addEventListener('click', function (event) {
            const entry = event.target.closest('.timeline-entry');
            if (!entry) return;
            // Check if this entry is already active (deselection case)
            const isCurrentlyActive = entry.classList.contains('active');
            // Remove active class from all entries
            document.querySelectorAll('.timeline-container .timeline-entry')
                .forEach(e => e.classList.remove('active'));
            if (!isCurrentlyActive) {
                entry.classList.add('active');
            }
        });
    </script>
</div>

</body>
