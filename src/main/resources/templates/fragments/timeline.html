<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <div th:fragment="timeline">
        <div class="timeline-date" th:text="${#temporals.format(date, 'EEEE, MMMM d, yyyy')}">Monday, October 2, 2023</div>
        
        <div th:if="${timelineEntries.empty}" class="empty-state">
            No timeline entries for this date.
        </div>
        
        <div th:each="entry : ${timelineEntries}" 
             th:class="'timeline-entry ' + ${entry.type}"
             th:data-id="${entry.id}"
             th:data-lat="${entry.type == 'place' ? entry.latitude : (entry.startLatitude != null ? entry.startLatitude : entry.endLatitude)}"
             th:data-lng="${entry.type == 'place' ? entry.longitude : (entry.startLongitude != null ? entry.startLongitude : entry.endLongitude)}">
            
            <div class="entry-time">
                <span th:text="${entry.startTime}">07:00</span>
                <span th:if="${entry.endTime != null}"> - </span>
                <span th:if="${entry.endTime != null}" th:text="${entry.endTime}">08:30</span>
            </div>
            
            <div class="entry-description" th:text="${entry.description}">Home</div>
            
            <div th:if="${entry.type == 'trip'}" class="entry-transport-mode">
                <span th:text="${entry.transportMode}">Walking</span>
            </div>
            
            <div th:if="${entry.address != null}" class="entry-address" th:text="${entry.address}"></div>
            
            <div th:if="${entry.distanceMeters != null}" class="entry-distance">
                <span th:text="${#numbers.formatDecimal(entry.distanceMeters / 1000, 1, 1)}"></span> km
            </div>
        </div>
    </div>
</body>
</html>
