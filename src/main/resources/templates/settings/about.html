<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="#{settings.title}">Settings - Reitti</title>
    <link rel="icon" th:href="@{/img/logo.svg}">
    <link rel="apple-touch-icon" th:href="@{/img/logo.svg}">
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/img/logo.svg}">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/lineicons.css">
    <link rel="stylesheet" href="/css/acknowledgments.css">
    <script src="/js/htmx.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.x/dist/index.umd.js"></script>
</head>
<body class="settings-page">
<div class="settings-container">
    <div th:replace="~{fragments/settings-navigation :: settings-nav(${activeSection}, ${dataManagementEnabled}, ${isAdmin})}"></div>
    <div class="settings-content-area">
        <div id="about-section" class="settings-section active">
            <h2 th:text="#{about.title}">About Application</h2>
            <div class="settings-card">
                <p>
                    <strong th:text="#{about.app.version}">Application Version:</strong>
                    <span th:text="${buildVersion}">N/A</span>
                </p>
                <p>
                    <strong th:text="#{about.git.commit.details}">Commit Details:</strong>
                    <span th:text="${gitCommitDetails}">N/A</span>
                </p>
                <p>
                    <strong th:text="#{about.build.time}">Build Time:</strong>
                    <span th:text="${buildTime}">N/A</span>
                </p>
            </div>

            <!-- Acknowledgments Section -->
            <div class="acknowledgments-section">
                <h3 class="acknowledgments-title">
                    <i class="lni lni-heart-filled"></i>
                    <span th:text="#{about.acknowledgments.title}">Acknowledgments</span>
                </h3>
                <p class="acknowledgments-subtitle" th:text="#{about.acknowledgments.subtitle}">
                    Reitti wouldn't be possible without the amazing contributions from our community and the incredible open-source projects we build upon.
                </p>

                <!-- Contributors Section -->
                <div class="contributors-section" th:if="${!contributors.isEmpty()}">
                    <h4 class="section-title">
                        <i class="lni lni-users"></i>
                        <span th:text="#{about.contributors.title}">Contributors</span>
                    </h4>
                    <div class="contributors-grid">
                        <div class="contributor-card" th:each="contributor : ${contributors}">
                            <div class="contributor-avatar">
                                <img th:src="${contributor.avatar}" th:alt="${contributor.name}" />
                                <div class="contributor-badge">
                                    <i class="lni lni-github-original"></i>
                                </div>
                            </div>
                            <div class="contributor-info">
                                <h5 class="contributor-name" th:text="${contributor.name}">Name</h5>
                                <a th:href="'https://github.com/' + ${contributor.github}" class="contributor-link" target="_blank">
                                    <i class="lni lni-github-original"></i>
                                    <span th:text="${contributor.github}">GitHub</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Translators Section -->
                <div class="translators-section" th:if="${!translators.isEmpty()}">
                    <h4 class="section-title">
                        <i class="lni lni-world"></i>
                        <span th:text="#{about.translators.title}">Translators</span>
                    </h4>
                    <div class="translators-grid">
                        <div class="translator-card" th:each="translator : ${translators}">
                            <div class="translator-avatar">
                                <img th:src="${translator.avatar}" th:alt="${translator.name}" />
                                <div class="completion-badge" th:classappend="${translator.completionPercentage == 100} ? 'complete' : 'incomplete'">
                                    <span th:text="${translator.completionPercentage} + '%'">100%</span>
                                </div>
                            </div>
                            <div class="translator-info">
                                <h5 class="translator-name" th:text="${translator.name}">Name</h5>
                                <div class="translator-languages">
                                    <span class="language-tag" th:each="language : ${translator.languages}" th:text="${language}">Language</span>
                                </div>
                                <div class="completion-bar">
                                    <div class="completion-fill" th:style="'width: ' + ${translator.completionPercentage} + '%'"></div>
                                </div>
                                <a th:href="'https://weblate.org/user/' + ${translator.weblate}" class="translator-link" target="_blank">
                                    <i class="lni lni-world"></i>
                                    <span>Weblate Profile</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Open Source Projects Section -->
                <div class="projects-section" th:if="${!projects.isEmpty()}">
                    <h4 class="section-title">
                        <i class="lni lni-code"></i>
                        <span th:text="#{about.projects.title}">Open Source Projects</span>
                    </h4>
                    <div class="projects-grid">
                        <div class="project-card" th:each="project : ${projects}">
                            <div class="project-header">
                                <div class="project-category" th:text="${project.category}">Category</div>
                                <div class="project-license" th:text="${project.license}">License</div>
                            </div>
                            <div class="project-content">
                                <h5 class="project-name" th:text="${project.name}">Project Name</h5>
                                <p class="project-description" th:text="${project.description}">Description</p>
                                <a th:href="${project.url}" class="project-link" target="_blank">
                                    <i class="lni lni-link"></i>
                                    <span th:text="#{about.projects.visit}">Visit Project</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Thank You Message -->
                <div class="thank-you-message" onclick="startFireworks()">
                    <div class="thank-you-content">
                        <i class="lni lni-heart thank-you-icon"></i>
                        <h4 th:text="#{about.thankyou.title}">Thank You!</h4>
                        <p th:text="#{about.thankyou.message}">
                            Every contribution, no matter how small, helps make Reitti better for everyone. 
                            We're grateful for your support and dedication to the open-source community.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Fireworks Container -->
<div id="fireworks-container" class="fireworks-container"></div>

<script th:inline="javascript">
    window.userSettings = /*[[${userSettings}]]*/ {}
    
    let fireworks = null;
    
    function startFireworks() {
        const container = document.getElementById('fireworks-container');
        
        if (fireworks) {
            fireworks.stop();
        }
        
        fireworks = new Fireworks.default(container, {
            opacity: 0.5,
            acceleration: 1.05,
            friction: 0.97,
            gravity: 1.5,
            particles: 50,
            traceLength: 3,
            traceSpeed: 10,
            explosion: 5,
            intensity: 30,
            flickering: 50,
            lineStyle: 'round',
            hue: {
                min: 0,
                max: 360
            },
            delay: {
                min: 30,
                max: 60
            },
            rocketsPoint: {
                min: 50,
                max: 50
            },
            lineWidth: {
                explosion: {
                    min: 1,
                    max: 3
                },
                trace: {
                    min: 1,
                    max: 2
                }
            },
            brightness: {
                min: 50,
                max: 80
            },
            decay: {
                min: 0.015,
                max: 0.03
            },
            mouse: {
                click: false,
                move: false,
                max: 1
            }
        });
        
        fireworks.start();
        
        // Stop fireworks after 5 seconds
        setTimeout(() => {
            if (fireworks) {
                fireworks.stop();
            }
        }, 5000);
    }
</script>
</body>
